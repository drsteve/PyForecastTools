<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Contingency Tables &#8212; PyForecastTools 1.1.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Plot - Visual Analysis Tools" href="plot.html" />
    <link rel="prev" title="Metrics - Core metrics and classes" href="metrics.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="contingency-tables">
<h1>Contingency Tables<a class="headerlink" href="#contingency-tables" title="Permalink to this heading">¶</a></h1>
<section id="module-verify.categorical">
<span id="function-class-documentation"></span><h2>Function/Class Documentation<a class="headerlink" href="#module-verify.categorical" title="Permalink to this heading">¶</a></h2>
<p>Module containing contingency table classes and related metrics</p>
<p>Contingency tables are widely used in analysis of categorical data.
The simplest, and most common, is binary event analysis, where
two categories are given (event/non-event). This can be generalized
to N categories that constitute different types of event.</p>
<p>ContingencyNxN and Contingency2x2 classes are currently provided.
Each class can be constructed with the numbers of true positives,
false positives, false negatives, and true negatives. The
Contingency2x2 class can also be constructed using the fromBoolean
class method by providing arrays of True/False.</p>
<p>Author: Steve Morley
Institution: Los Alamos National Laboratory</p>
<p>Copyright (c) 2017, Triad National Security, LLC
All rights reserved.</p>
<dl class="py class">
<dt class="sig sig-object py" id="verify.categorical.Contingency2x2">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">verify.categorical.</span></span><span class="sig-name descname"><span class="pre">Contingency2x2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#verify.categorical.Contingency2x2" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to work with 2x2 contingency tables for forecast verification</p>
<p>The table is defined following the standard presentation in works such
as Wilks [2006], where the columns are observations and the rows are
predictions. For a binary forecast, this gives a table</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td colspan="2" rowspan="2"></td>
<td colspan="2"><p>Observed</p></td>
</tr>
<tr class="row-even"><td><p>Y</p></td>
<td><p>N</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>Predicted</p></td>
<td><p>Y</p></td>
<td><p>True Positive</p></td>
<td><p>False Positive</p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>False Negative</p></td>
<td><p>True Negative</p></td>
</tr>
</tbody>
</table>
<p>Note that in many machine learning applications this table is called a
<a href="#id1"><span class="problematic" id="id2">``</span></a>confusion matrix’’ and the columns and rows are often transposed.</p>
<p>Wilks, D.S. (2006), Statistical Methods in the Atmospheric Sciences, 2nd Ed.
Academic Press, Elsevier, Burlington, MA.</p>
<p class="rubric">Examples</p>
<p>Duplicating the Finley[1884] tornado forecasts [Wilks, 2006, pp267-268]</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">verify</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span> <span class="o">=</span> <span class="n">verify</span><span class="o">.</span><span class="n">Contingency2x2</span><span class="p">([[</span><span class="mi">28</span><span class="p">,</span><span class="mi">72</span><span class="p">],[</span><span class="mi">23</span><span class="p">,</span><span class="mi">2680</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="go">2803</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span><span class="o">.</span><span class="n">threat</span><span class="p">()</span>
<span class="go">0.22764227642276422</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span><span class="o">.</span><span class="n">heidke</span><span class="p">()</span>
<span class="go">0.35532486145845693</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span><span class="o">.</span><span class="n">peirce</span><span class="p">()</span>
<span class="go">0.52285681714546284</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="verify.categorical.Contingency2x2.FAR">
<span class="sig-name descname"><span class="pre">FAR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ci</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#verify.categorical.Contingency2x2.FAR" title="Permalink to this definition">¶</a></dt>
<dd><p>False Alarm Ratio, the fraction of incorrect “yes” forecasts</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ci</strong> (<em>NoneType</em><em>, </em><em>str</em><em>, </em><em>boolean</em>) – confidence interval (options None, ‘bootstrap’, True (for ‘Wald’),
or ‘AC’) (default=None)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>far</strong> – The false alarm ratio of the contingency table data
This is also added to the attrs attribute of the table object</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="verify.categorical.Contingency2x2.MatthewsCC">
<span class="sig-name descname"><span class="pre">MatthewsCC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ci</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#verify.categorical.Contingency2x2.MatthewsCC" title="Permalink to this definition">¶</a></dt>
<dd><p>Matthews Correlation Coefficient</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">event_series</span> <span class="o">=</span> <span class="p">[</span> <span class="kc">True</span><span class="p">,</span>  <span class="kc">True</span><span class="p">,</span>  <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pred_series</span>  <span class="o">=</span> <span class="p">[</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span>  <span class="kc">True</span><span class="p">,</span>  <span class="kc">True</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ct</span> <span class="o">=</span> <span class="n">verify</span><span class="o">.</span><span class="n">Contingency2x2</span><span class="o">.</span><span class="n">fromBoolean</span><span class="p">(</span><span class="n">pred_series</span><span class="p">,</span> <span class="n">event_series</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ct</span><span class="o">.</span><span class="n">MatthewsCC</span><span class="p">()</span>
<span class="go">-0.333...</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="verify.categorical.Contingency2x2.PC">
<span class="sig-name descname"><span class="pre">PC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ci</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#verify.categorical.Contingency2x2.PC" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Proportion Correct (PC) for the 2x2 contingency table</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ci</strong> (<em>NoneType</em><em>, </em><em>str</em><em>, </em><em>boolean</em>) – confidence interval (options None, ‘bootstrap’, True (for ‘Wald’),
or ‘AC’) (default=None)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>pc</strong> – Returns and updates ‘PC’ attribute</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="verify.categorical.Contingency2x2.POD">
<span class="sig-name descname"><span class="pre">POD</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ci</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#verify.categorical.Contingency2x2.POD" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the Probability of Detection, a.k.a. hit rate (ratio of
correct forecasts to number of event occurrences)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ci</strong> (<em>NoneType</em><em>, </em><em>str</em><em>, </em><em>boolean</em>) – confidence interval (options None, ‘bootstrap’, True (for ‘Wald’),
or ‘AC’) (default=None)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>hitrate</strong> – The hit rate of the contingency table data
This is also added to the attrs attribute of the table object</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="verify.categorical.Contingency2x2.POFD">
<span class="sig-name descname"><span class="pre">POFD</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ci</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#verify.categorical.Contingency2x2.POFD" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the Probability of False Detection (POFD), a.k.a. False
Alarm Rate</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ci</strong> (<em>NoneType</em><em>, </em><em>str</em><em>, </em><em>boolean</em>) – confidence interval (options None, ‘bootstrap’, True (for ‘Wald’),
or ‘AC’) (default=None)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>pofd</strong> – The probability of false detection of the contingency table data
This is also added to the attrs attribute of the table object</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="verify.categorical.Contingency2x2.bias">
<span class="sig-name descname"><span class="pre">bias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ci</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#verify.categorical.Contingency2x2.bias" title="Permalink to this definition">¶</a></dt>
<dd><p>The frequency bias of the forecast calculated as the ratio of yes
forecasts to number of yes events</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>bias</strong> – The bias of the contingency table data
This is also added to the attrs attribute of the table object</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>An unbiased forecast will have bias=1, showing that the number of
forecasts is the same as the number of events. Bias&gt;1 means that more
events were forecast than observed (overforecast).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="verify.categorical.Contingency2x2.equitableThreat">
<span class="sig-name descname"><span class="pre">equitableThreat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ci</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#verify.categorical.Contingency2x2.equitableThreat" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the Equitable Threat Score (a.k.a. Gilbert Skill Score)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ci</strong> (<em>NoneType</em><em>, </em><em>str</em><em>, </em><em>boolean</em>) – confidence interval (options None, ‘bootstrap’, True (for ‘Wald’),
or ‘AC’) (default=None)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>thr</strong> – The threat score of the contingency table data
This is also added to the attrs attribute of the table object</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This is a ratio of verification, i.e., the proportion of correct
forecasts after removing correct “no” forecasts (or ‘true negatives’).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="verify.categorical.Contingency2x2.fromBoolean">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fromBoolean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predicted</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observed</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#verify.categorical.Contingency2x2.fromBoolean" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a 2x2 contingency table from two boolean input arrays</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="verify.categorical.Contingency2x2.heidke">
<span class="sig-name descname"><span class="pre">heidke</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ci</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#verify.categorical.Contingency2x2.heidke" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the Heidke Skill Score for the 2x2 contingency table</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ci</strong> (<em>NoneType</em><em>, </em><em>str</em><em>, </em><em>boolean</em>) – confidence interval (options None, ‘bootstrap’, True (for ‘Wald’),
or ‘AC’) (default=None)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>hss</strong> – The Heidke skill score of the contingency table data
This is also added to the attrs attribute of the table object</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This is a skill score based on the proportion of correct forecasts
referred to the proportion expected correct by chance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="verify.categorical.Contingency2x2.majorityClassFraction">
<span class="sig-name descname"><span class="pre">majorityClassFraction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#verify.categorical.Contingency2x2.majorityClassFraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Proportion Correct (a.k.a. “accuracy” in machine learning) for
majority classifier</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="verify.categorical.Contingency2x2.oddsRatio">
<span class="sig-name descname"><span class="pre">oddsRatio</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#verify.categorical.Contingency2x2.oddsRatio" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the odds ratio for the 2x2 contingency table</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>odds</strong> – The odds ratio for the contingency table data
This is also added to the attrs attribute of the table object</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="verify.categorical.Contingency2x2.peirce">
<span class="sig-name descname"><span class="pre">peirce</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ci</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#verify.categorical.Contingency2x2.peirce" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the Peirce Skill Score for the 2x2 contingency table</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ci</strong> (<em>NoneType</em><em>, </em><em>str</em><em>, </em><em>boolean</em>) – confidence interval (options None, ‘bootstrap’, True (for ‘Wald’),
or ‘AC’) (default=None)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>pss</strong> – The Peirce skill score of the contingency table data
This is also added to the attrs attribute of the table object</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="verify.categorical.Contingency2x2.summary">
<span class="sig-name descname"><span class="pre">summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ci</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#verify.categorical.Contingency2x2.summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Summary table</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verbose</strong> (<em>boolean</em>) – Print output to stdout (default=False)</p></li>
<li><p><strong>ci</strong> (<em>NoneType</em><em>, </em><em>str</em><em>, </em><em>boolean</em>) – confidence interval (options None, ‘bootstrap’, True (for ‘Wald’),
or ‘AC’) (default=None)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="verify.categorical.Contingency2x2.threat">
<span class="sig-name descname"><span class="pre">threat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ci</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#verify.categorical.Contingency2x2.threat" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the Threat Score (a.k.a. critical success index)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ci</strong> (<em>NoneType</em><em>, </em><em>str</em><em>, </em><em>boolean</em>) – confidence interval (options None, ‘bootstrap’, True (for ‘Wald’),
or ‘AC’) (default=None)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>thr</strong> – The threat score of the contingency table data
This is also added to the attrs attribute of the table object</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This is a ratio of verification, i.e., the proportion of correct
forecasts after removing correct “no” forecasts (or ‘true negatives’).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="verify.categorical.Contingency2x2.yuleQ">
<span class="sig-name descname"><span class="pre">yuleQ</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#verify.categorical.Contingency2x2.yuleQ" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate Yule’s Q (odds ratio skill score) for the 2x2 contingency
table</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>yule</strong> – Yule’s Q for the contingency table data
This is also added to the attrs attribute of the table object</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="verify.categorical.ContingencyNxN">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">verify.categorical.</span></span><span class="sig-name descname"><span class="pre">ContingencyNxN</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#verify.categorical.ContingencyNxN" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to work with NxN contingency tables for forecast verification</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">verify</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span> <span class="o">=</span> <span class="n">verify</span><span class="o">.</span><span class="n">ContingencyNxN</span><span class="p">([[</span><span class="mi">28</span><span class="p">,</span><span class="mi">72</span><span class="p">],[</span><span class="mi">23</span><span class="p">,</span><span class="mi">2680</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="go">2803</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span><span class="o">.</span><span class="n">threat</span><span class="p">()</span>
<span class="go">0.22764227642276422</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span><span class="o">.</span><span class="n">heidke</span><span class="p">()</span>
<span class="go">0.35532486145845693</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span><span class="o">.</span><span class="n">peirce</span><span class="p">()</span>
<span class="go">0.52285681714546284</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="verify.categorical.ContingencyNxN.PC">
<span class="sig-name descname"><span class="pre">PC</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#verify.categorical.ContingencyNxN.PC" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Proportion Correct (PC) for the NxN contingency table</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="verify.categorical.ContingencyNxN.get2x2">
<span class="sig-name descname"><span class="pre">get2x2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">category</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#verify.categorical.ContingencyNxN.get2x2" title="Permalink to this definition">¶</a></dt>
<dd><p>Get 2x2 sub-table from multicategory contingency table</p>
<p class="rubric">Examples</p>
<p>Goldsmith’s non-probabilistic forecasts for freezing rain (cat 0), snow
(cat 1), and rain (cat 2). [see Wilks, 1995, p273]</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">verify</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span> <span class="o">=</span> <span class="n">verify</span><span class="o">.</span><span class="n">ContingencyNxN</span><span class="p">([[</span><span class="mi">50</span><span class="p">,</span><span class="mi">91</span><span class="p">,</span><span class="mi">71</span><span class="p">],[</span><span class="mi">47</span><span class="p">,</span><span class="mi">2364</span><span class="p">,</span><span class="mi">170</span><span class="p">],[</span><span class="mi">54</span><span class="p">,</span><span class="mi">205</span><span class="p">,</span><span class="mi">3288</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt2</span> <span class="o">=</span> <span class="n">tt</span><span class="o">.</span><span class="n">get2x2</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tt2</span><span class="p">)</span>
<span class="go">[[  50  162]</span>
<span class="go"> [ 101 6027]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt2</span><span class="o">.</span><span class="n">bias</span><span class="p">()</span>
<span class="go">1.4039735099337749</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt2</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt2</span><span class="o">.</span><span class="n">attrs</span><span class="p">()</span>
<span class="go">{&#39;Bias&#39;: 1.4039735099337749,</span>
<span class="go"> &#39;FAR&#39;: 0.76415094339622647,</span>
<span class="go"> &#39;HeidkeScore&#39;: 0.25474971797571822,</span>
<span class="go"> &#39;POD&#39;: 0.33112582781456956,</span>
<span class="go"> &#39;POFD&#39;: 0.026175472612699952,</span>
<span class="go"> &#39;PeirceScore&#39;: 0.30495035520187008,</span>
<span class="go"> &#39;ThreatScore&#39;: 0.15974440894568689}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="verify.categorical.ContingencyNxN.heidke">
<span class="sig-name descname"><span class="pre">heidke</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#verify.categorical.ContingencyNxN.heidke" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the generalized Heidke Skill Score for the NxN contingency
table</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>hss</strong> – The Heidke skill score of the contingency table data
This is also added to the attrs attribute of the table object</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Goldsmith’s non-probabilistic forecasts for freezing rain (cat 0), snow
(cat 1), and rain (cat 2). [see Wilks, 1995, p273-274]</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">verify</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span> <span class="o">=</span> <span class="n">verify</span><span class="o">.</span><span class="n">ContingencyNxN</span><span class="p">([[</span><span class="mi">50</span><span class="p">,</span><span class="mi">91</span><span class="p">,</span><span class="mi">71</span><span class="p">],[</span><span class="mi">47</span><span class="p">,</span><span class="mi">2364</span><span class="p">,</span><span class="mi">170</span><span class="p">],[</span><span class="mi">54</span><span class="p">,</span><span class="mi">205</span><span class="p">,</span><span class="mi">3288</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span><span class="o">.</span><span class="n">heidke</span><span class="p">()</span>
<span class="go">0.80535269033647217</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="verify.categorical.ContingencyNxN.peirce">
<span class="sig-name descname"><span class="pre">peirce</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#verify.categorical.ContingencyNxN.peirce" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the generalized Peirce Skill Score for the NxN contingency
table</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pss</strong> – The Peirce skill score of the contingency table data
This is also added to the attrs attribute of the table object</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Goldsmith’s non-probabilistic forecasts for freezing rain (cat 0), snow
(cat 1), and rain (cat 2). [see Wilks, 1995, p273-274]</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">verify</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span> <span class="o">=</span> <span class="n">verify</span><span class="o">.</span><span class="n">ContingencyNxN</span><span class="p">([[</span><span class="mi">50</span><span class="p">,</span><span class="mi">91</span><span class="p">,</span><span class="mi">71</span><span class="p">],[</span><span class="mi">47</span><span class="p">,</span><span class="mi">2364</span><span class="p">,</span><span class="mi">170</span><span class="p">],[</span><span class="mi">54</span><span class="p">,</span><span class="mi">205</span><span class="p">,</span><span class="mi">3288</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span><span class="o">.</span><span class="n">peirce</span><span class="p">()</span>
<span class="go">0.81071330546125309</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">PyForecastTools</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=drsteve&repo=PyForecastTools&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="metrics.html">Metrics - Core metrics and classes</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Contingency Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="plot.html">Plot - Visual Analysis Tools</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="metrics.html" title="previous chapter">Metrics - Core metrics and classes</a></li>
      <li>Next: <a href="plot.html" title="next chapter">Plot - Visual Analysis Tools</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Triad National Security, LLC.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/categorical.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>